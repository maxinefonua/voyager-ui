<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div th:fragment="results"
     id="resultsContainer"
     class="modal-body">
    <div th:if="${lookupResults} != null and not ${lookupResults.empty}">
        <div
                class="accordion list-group"
                id="accordionExample">
            <div class="accordion item" th:each="resultSearch,iter : ${lookupResults}">
                <button
                        id="searchResultButtonHeader-"
                        class="accordion-button list-group-item list-group-item-action list-group-item-light"
                        type="button"
                        aria-controls="collapse-"
                        data-bs-toggle="collapse"
                        data-bs-target="#collapse-"
                        th:classappend="${iter.index == 0}? null : collapsed"
                        th:text="${resultSearch.name} + ', ' + ${resultSearch.adminName} + ' | ' + ${resultSearch.countryName}"
                        th:attr="aria-expanded=${iter.index == 0}?true:false,data-south=${iter.index == 0}?${resultSearch.southBound}:null,data-west=${iter.index == 0}?${resultSearch.westBound}:null,data-north=${iter.index == 0}?${resultSearch.northBound}:null,data-east=${iter.index == 0}?${resultSearch.eastBound}:null,data-lng=${iter.index == 0}?${resultSearch.longitude}:null,data-lat=${iter.index == 0}?${resultSearch.latitude}:null";
                        th:onclick="updateLookupMap([[${iter.index}]],[[${resultSearch.longitude}]],[[${resultSearch.latitude}]],[[${resultSearch.westBound}]],[[${resultSearch.southBound}]],[[${resultSearch.eastBound}]],[[${resultSearch.northBound}]])"
                        th:attrappend="data-bs-target=${iter.index},aria-controls=${iter.index},id=${iter.index}"></button>
                <div
                        id="collapse-"
                        class="accordion-collapse collapse"
                        data-bs-parent="#accordionExample"
                        th:attrappend="id=${iter.index}"
                        th:classappend="${iter.index == 0}? show : null">
                    <div class="accordion-body">
                        <p
                                th:text="${resultSearch.name} +' is a '
                        + ${resultSearch.type} + ' of '
                        + ${resultSearch.adminName} + ' in '
                        + ${resultSearch.countryName} + '.'">
                        </p>
                        <div id="IATA_CODE_LIST_" th:attrappend="id=${iter.index}"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="list-group" th:unless="${lookupResults} != null and not ${lookupResults.empty}">
        <div class="accordion list-group" id="noResultAccordion">
            <div class="accordion item">
                <div class="list-group-item list-group-item-secondary">No results found.</div>
            </div>
        </div>
    </div>
</div>

<div
        th:fragment="lookupFooterResults"
        id="lookupFooter"
        class=""
        th:classappend="${totalResultsCount}?modal-footer"
        hx-swap-oob="outerHTML:#lookupFooter">
    <div
            th:if="${totalResultsCount} and ${totalResultsCount} > 0"
            th:text="${totalResultsCount} > 10? 'Displaying 10 of ' + ${totalResultsCount}+ ' total results' : 'Displaying ' + ${totalResultsCount} + ' of ' + ${totalResultsCount}+ ' total results'">
    </div>
    <div
            th:if="${totalResultsCount} and ${totalResultsCount} > 0"
            class="btn-group"
            role="group"
            aria-label="Basic outlined example">
        <button
                type="button"
                class="btn btn-outline-primary disabled">Prev</button>
        <button
                type="button"
                class="btn btn-outline-primary"
                th:classappend="${totalResultsCount<11}?disabled">Next</button>
    </div>
</div>
</html>